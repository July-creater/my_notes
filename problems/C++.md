# 遇到的C++相关问题

1. 在谷歌代码风格规范中，函数形参中使用const &修饰形参，为什么这样写，在ceres中，遇到了const * const 修饰的形参，为什么这样写呢？

    ```c++
    // 谷歌代码风格
    void function(const Types& x);
    
    // ceres中代码函数的书写
    struct CostFunctor {
      template <typename T>
      bool operator()(const T* const x, T* residual) {

      }
    };  
    ```

+ 在谷歌代码风格中，使用const &修饰形参有以下几个原因：
  + 避免拷贝：当传递一个大的对象（例如大数组或自定义的复杂数据结构）时，通过值传递会产生一次拷贝，**可能会消耗大量的内存和时间**。通过传递引用，避免了不必要的拷贝。
  + 只读保护：使用const表明函数内部不会修改这个参数的值。这不仅有助于提高代码的可读性和可维护性，还可以防止意外修改参数。
  
+ 在Ceres代码中，使用const T* const有以下几个原因：
  + 指针和指针所指内容的只读保护：第一个const修饰指针所指向的数据，表示这些数据是只读的，函数不能修改这些数据。第二个const修饰指针本身，表示指针的值（即指向的地址）不能被修改。
  + Ceres库要求：Ceres Solver库的许多接口要求使用这样的指针形参，以确保在优化过程中，输入数据不会被修改，从而提高稳定性和安全性。
  
2. std::for_each 和 std::transform 都可以多线程并行处理，用法是什么，各有什么优缺点呢？
